{"version":3,"sources":["components/SplashPage.tsx","components/QuestionPrompt.tsx","components/FillInBlank.tsx","components/Numeric.tsx","components/TrueFalse.tsx","components/MultipleChoice.tsx","components/CheckBox.tsx","components/AnswerForm.tsx","App.tsx","index.tsx"],"names":["SplashPage","_ref","message","React","createElement","Fragment","style","display","justifyContent","alignItems","height","flexDirection","src","alt","animation","QuestionPrompt","question","flex","Lottie","animationData","type","lottieFile1","lottieFile2","lottieFile3","lottieFile4","lottieFile5","loop","width","maxHeight","maxWidth","fontWeight","fontSize","dangerouslySetInnerHTML","__html","prompt","FillInBlank","handleSubmit","setStudentAnswer","onSubmit","required","onChange","e","target","value","className","Numeric","units","TrueFalse","name","paddingLeft","textAlign","MultipleChoice","choices","scrambled","valuesRef","useRef","split","slice","length","shuffleRef","hasLongChoice","some","choice","current","array","i","j","Math","floor","random","shuffleArray","borderStyle","padding","map","index","key","whiteSpace","charCodeAt","CheckBox","setStudentAnswerState","useState","prevState","updatedAnswer","includes","filter","item","sort","join","assembleStudentAnswer","AnswerForm","tokenRef","page","setPage","studentAnswer","responseHtml","setResponseHtml","waiting","setWaiting","event","preventDefault","submitAnswer","async","console","log","response","fetch","method","headers","Content-Type","Authorization","body","JSON","stringify","_objectSpread","id","answer","parameter","data","json","token","html","error","Checkbox","char","onClick","handleContinue","App","setQuestion","correctAnswer","setMessage","useEffect","URLSearchParams","window","location","search","get","timer","setTimeout","clearTimeout","getQuestion","useCallback","Error","ok","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6fd482f.chunk.js","sourcesContent":["import React from 'react';\n\ninterface SplashPageProps {\n    message: string;\n}\n\nconst SplashPage: React.FC<SplashPageProps> = ({ message }) => {\n    return (\n        <>\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh', flexDirection: 'column'}}>\n                <img src=\"/images/chem4ap_atom.png\" alt=\"Logo\" style={{ animation: 'rotate 30s linear infinite' }} />\n                <p></p>\n                <h1>Chem4AP</h1>\n                <h2>{message}</h2>\n            </div>\n            <style>\n                {`\n                @keyframes rotate {\n                    from {\n                    transform: rotate(0deg);\n                    }\n                    to {\n                    transform: rotate(360deg);\n                    }\n                }\n                `}\n            </style>\n        </>\n    );\n};\n\nexport default SplashPage;","import React from 'react';\nimport { Question } from '../types';\nimport Lottie from 'lottie-react';\nimport lottieFile1 from './tiger.json';\nimport lottieFile2 from './panda.json';\nimport lottieFile3 from './giraffe.json';\nimport lottieFile4 from './strawberry.json';\nimport lottieFile5 from './cat.json';\n\ninterface QuestionPromptProps {\n    question: Question;\n}\nconst QuestionPrompt: React.FC<QuestionPromptProps> = ({ question }) => {\n    return (\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '50vh', flexDirection: 'row'}}>\n            <div style={{ flex: 1, display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                <Lottie \n                animationData={\n                question.type === 'fill_in_blank' ? lottieFile1 : \n                question.type === 'numeric' ? lottieFile2 : \n                question.type === 'true_false' ? lottieFile3 : \n                question.type === 'multiple_choice' ? lottieFile4 : \n                question.type === 'checkbox' ? lottieFile5 :\n                null\n                } \n                loop={true} \n                style={{height: '100%', width: '100%', maxHeight: '500px', maxWidth: '500px'}} \n                />\n            </div>\n            <div style={{ flex: 2, display: 'flex', justifyContent: 'center', alignItems: 'center', fontWeight: 'bold', fontSize: '1em' }}>\n                <div dangerouslySetInnerHTML={{ __html: question.prompt }}></div>\n            </div>\n        </div>\n    )\n};\n\nexport default QuestionPrompt;","import React from 'react';\n\ninterface FillInBlankProps {\n    handleSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n    setStudentAnswer: (studentAnswer: string) => void;\n}\n\nconst FillInBlank: React.FC<FillInBlankProps> = ({ handleSubmit, setStudentAnswer }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <label>\n                Your Answer:&nbsp;\n                <input \n                    type=\"text\" \n                    required \n                    onChange={(e) => setStudentAnswer(e.target.value)}\n                    style={{ width: \"150px\" }} \n                />\n            </label>&nbsp;\n            <button className=\"btn btn-primary\" type=\"submit\">Submit</button>\n        </form>\n    );\n}\n\nexport default FillInBlank;","import React from 'react';\n\ninterface NumericProps {\n    units: string;\n    handleSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n    setStudentAnswer: (studentAnswer: string) => void;\n}\n\nconst Numeric: React.FC<NumericProps> = ({ units, handleSubmit, setStudentAnswer }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <label>\n                Your Answer:&nbsp;\n                <input type=\"text\" required onChange={(e) => setStudentAnswer(e.target.value)} style={{width: \"100px\"}} />&nbsp;\n                {units && <span dangerouslySetInnerHTML={{ __html: units }} />}\n            </label>&nbsp;\n            <button className=\"btn btn-primary\" type=\"submit\">Submit</button>\n        </form>\n    );\n}\n\nexport default Numeric;","import React from 'react';\n\ninterface TrueFalseProps {\n    handleSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n    setStudentAnswer: (studentAnswer: string) => void;\n}\n\nconst TrueFalse: React.FC<TrueFalseProps> = ({ handleSubmit, setStudentAnswer }) => {\n    return (\n        <form onSubmit={handleSubmit} style={{ display: 'flex', alignItems: 'center' }}>\n        <div className=\"form-check\" style={{ flex: 1 }}>\n        <label style={{ display: 'block' }}>\n          <input\n          className=\"form-check-input\"\n          type=\"radio\"\n          required\n          name=\"true_false\"\n          value=\"true\"\n          onChange={(e) => { setStudentAnswer(e.target.value); }}\n          />\n          True\n        </label>\n        <label style={{ display: 'block' }}>\n          <input\n          className=\"form-check-input\"\n          type=\"radio\"\n          required\n          name=\"true_false\"\n          value=\"false\"\n          onChange={(e) => setStudentAnswer(e.target.value)}\n          />\n          False\n        </label>\n        </div>\n        <div style={{ flex: 1, paddingLeft: '50px', textAlign: 'center' }}>\n        <button className=\"btn btn-primary\" type=\"submit\">Submit</button>\n        </div>\n      </form>\n    );\n}\n\nexport default TrueFalse;","import React from 'react';\nimport { useRef } from \"react\";\n\ninterface MultipleChoiceProps {\n    choices: string[]\n    scrambled: boolean\n    handleSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n    setStudentAnswer: (studentAnswer: string) => void;\n}\n\n// Utility function to shuffle an array\nconst shuffleArray = (array: string[]) => {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n};\n\nconst MultipleChoice: React.FC<MultipleChoiceProps> = ({ choices, scrambled, handleSubmit, setStudentAnswer }) => {\n    const valuesRef = useRef<string[]>(\"abcdefg\".split('').slice(0, choices.length));\n    const shuffleRef = useRef<boolean>(scrambled);\n    const hasLongChoice = choices.some(choice => choice.length > 40);\n    \n    if (shuffleRef.current) {\n        valuesRef.current = shuffleArray([...valuesRef.current]);\n        shuffleRef.current = false; // Ensures that choices are only shuffled once\n    }\n    return (\n        <form onSubmit={handleSubmit} style={{ display: 'flex', alignItems: 'center' }}>\n            <div className=\"form-check\" style={{ flex: 1, borderStyle: 'solid', padding: '15px', paddingLeft: '50px' }}>\n                {valuesRef.current.map((value, index) => (\n                    <label key={index} style={{ display: 'block', whiteSpace: hasLongChoice ? 'normal' : 'nowrap' }}>\n                        <input className=\"form-check-input\" type=\"radio\" required name=\"multiple_choice\" value={value} onChange={(e) => { setStudentAnswer(e.target.value); }} />\n                        <span dangerouslySetInnerHTML={{ __html: choices[value.charCodeAt(0) - 97] }} />\n                    </label>\n                ))}\n            </div>\n            <div style={{ flex: 1, paddingLeft: '15px', textAlign: 'center' }}>\n                <button className=\"btn btn-primary\" type=\"submit\">Submit</button>\n            </div>\n        </form>\n    );\n}\n\nexport default MultipleChoice;","import React from 'react';\nimport { useRef } from \"react\";\n\ninterface CheckBoxProps {\n    choices: string[]\n    scrambled: boolean\n    handleSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n    setStudentAnswer: (studentAnswer: string) => void;\n}\n\n// Utility function to shuffle an array using the Fisher-Yates algorithm\nconst shuffleArray = (array: string[]) => {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n};\n\nconst CheckBox: React.FC<CheckBoxProps> = ({ choices, scrambled, handleSubmit, setStudentAnswer }) => {\n    const [, setStudentAnswerState] = React.useState<string[]>([]);\n    const valuesRef = useRef<string[]>(\"abcdefg\".split('').slice(0, choices.length));\n    const shuffleRef = useRef<boolean>(scrambled);\n    const hasLongChoice = choices.some(choice => choice.length > 40);\n    \n    if (shuffleRef.current) {\n        valuesRef.current = shuffleArray([...valuesRef.current]);\n        shuffleRef.current = false; // Ensures that choices are only shuffled once\n    }\n            \n    const assembleStudentAnswer = (choice: string) => {\n        setStudentAnswerState(prevState => {\n            let updatedAnswer;\n            if (prevState.includes(choice)) {\n                updatedAnswer = prevState.filter(item => item !== choice);\n            } else {\n                updatedAnswer = [...prevState, choice].sort();\n            }\n            setStudentAnswer(updatedAnswer.join(''));\n            return updatedAnswer;\n        });\n    }\n    \n    return (\n        <form onSubmit={handleSubmit} style={{ display: 'flex', alignItems: 'center' }}>\n            <div className=\"form-check\" style={{ flex: 1, borderStyle: 'solid', padding: '15px', paddingLeft: '50px' }}>\n                {valuesRef.current.map((value, index) => (\n                    <label key={index} style={{ display: 'block', whiteSpace: hasLongChoice ? 'normal' : 'nowrap' }}>\n                        <input className=\"form-check-input\" type=\"checkbox\" name=\"checkbox\" value={value} onChange={(e) => { assembleStudentAnswer(e.target.value); }} />\n                        <span dangerouslySetInnerHTML={{ __html: choices[value.charCodeAt(0)-97] }} />\n                    </label>\n                ))}\n            </div>\n            <div style={{ flex: 1, paddingLeft: '15px', textAlign: 'center' }}>\n                <button className=\"btn btn-primary\" type=\"submit\">Submit</button>\n            </div>\n        </form>\n    );\n}\n\nexport default CheckBox;","import React from 'react';\nimport { useState } from 'react';\nimport { Question } from '../types';\nimport FillInBlank from './FillInBlank';\nimport Numeric from './Numeric';\nimport TrueFalse from './TrueFalse';\nimport MultipleChoice from './MultipleChoice';\nimport Checkbox from './CheckBox';\n\ninterface AnswerFormProps {\n  tokenRef: React.MutableRefObject<string | null>;\n  question: Question;\n  page: number;\n  setPage: (page: number) => void;\n}\n\nconst AnswerForm: React.FC<AnswerFormProps> = ({ tokenRef, question, page, setPage }) => {\n  const [studentAnswer, setStudentAnswer] = useState<string>('');\n  const [responseHtml, setResponseHtml] = useState<string | null>(null);\n  const [waiting, setWaiting] = useState<boolean>(false);\n\n  const handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    setWaiting(true);\n    submitAnswer();\n    setPage(2); // Show the response\n  };\n\n  const handleContinue = () => {\n    question.prompt = '';\n    question.type = '';\n    setStudentAnswer(''); // Clear the answer\n    setResponseHtml(''); // Clear the response\n    setPage(1); // Go to the next question\n  };\n\n  const submitAnswer = async () => {\n    try {\n      console.log(\"Submitting: \" + studentAnswer);\n      const response = await fetch('/exercises', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + tokenRef.current,\n        },\n        body: JSON.stringify({\n          id: question.id,\n          answer: studentAnswer,\n          ...(question.parameter && { parameter: question.parameter })\n        }),\n      });\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setWaiting(false);\n      if (!tokenRef.current) console.log(data.error,question);\n      else setResponseHtml(data.html);\n    } catch (error) {\n      console.error('Error submitting answer:', error);\n    }\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', fontSize: '1em', fontWeight: 'bold' }}>\n      {page === 1 && (\n        (question.type === 'fill_in_blank' && <FillInBlank setStudentAnswer={setStudentAnswer} handleSubmit={handleSubmit} />) ||\n        (question.type === 'numeric' && <Numeric units={question.units} setStudentAnswer={setStudentAnswer} handleSubmit={handleSubmit} />) ||\n        (question.type === 'true_false' && <TrueFalse setStudentAnswer={setStudentAnswer} handleSubmit={handleSubmit} />) ||\n        (question.type === 'multiple_choice' && <MultipleChoice choices={question.choices} scrambled={question.scrambled} setStudentAnswer={setStudentAnswer} handleSubmit={handleSubmit} />) ||\n        (question.type === 'checkbox' && <Checkbox choices={question.choices} scrambled={question.scrambled} setStudentAnswer={setStudentAnswer} handleSubmit={handleSubmit} />)\n      )}\n      {page === 2 && (\n        <div>\n          <span>Your Answer:&nbsp;\n            {\n              question.type === 'multiple_choice' ? <span dangerouslySetInnerHTML={{ __html: question.choices[studentAnswer.charCodeAt(0) - 97] }} /> :\n              question.type === 'checkbox' ? (\n              <ul>\n                {studentAnswer.split('').map((char: string, index: number) => (\n                <li key={index} dangerouslySetInnerHTML={{ __html: question.choices[char.charCodeAt(0) - 97] }} />\n                ))}\n              </ul>\n              ) : \n              question.type === 'numeric' ? (\n                <>\n                  {studentAnswer} <span dangerouslySetInnerHTML={{ __html: question.units }} />\n                </>\n              ) :\n              studentAnswer\n            }\n            <div>\n              {waiting && <div>Scoring your answer now...</div>}\n            </div>\n          </span>\n          <div>\n            {responseHtml && <div dangerouslySetInnerHTML={{ __html: responseHtml }} />}\n          </div>\n          <div>\n            {responseHtml && <button className=\"btn btn-primary\" onClick={handleContinue}>Continue</button>}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AnswerForm;","import React from 'react';\nimport SplashPage from './components/SplashPage';\nimport QuestionPrompt from './components/QuestionPrompt';\nimport AnswerForm from './components/AnswerForm';\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport { Question } from './types';\n\nconst App: React.FC = () => {\n  const [page, setPage] = useState(0);\n  const [question, setQuestion] = useState<Question>({\n    id: 0,\n    type: '',\n    prompt: '',\n    choices: [],\n    scrambled: false,\n    parameter: 0,\n    correctAnswer: '',\n    studentAnswer: '',\n    units: ''\n  });\n  const [message, setMessage] = useState<string>('');\n  const tokenRef = useRef<string | null>(null);\n    \n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const token = urlParams.get('t');\n    if (token) {\n      tokenRef.current = token;\n    } else {\n      setMessage('No token found. Please launch this app from your LMS');\n    }\n  }, []);\n\n  useEffect(() => {\n    if (message !== \"\") {\n      setPage(0);\n      return;\n    }\n    const timer = setTimeout(() => {\n      setPage(1);\n    }, 2000);\n    return () => clearTimeout(timer);\n  }, [message]);\n\n  const getQuestion = useCallback(async () => {\n    if (page !== 1) return;\n    try {\n      if (!tokenRef.current) {\n        throw new Error('Auth token missing. Please launch this app from your LMS');\n      }\n      const response = await fetch('/exercises', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + tokenRef.current\n        }\n      });\n      if (!response.ok) {\n        throw new Error('The one-time token was invalid. Please launch this app from your LMS');\n      }\n      const data = await response.json();\n      if (data.token !== null) tokenRef.current = data.token;\n      if (data.question !== null) setQuestion(data.question);\n      console.log(\"Fetched a question\");\n    } catch (error) {\n      console.error('Error fetching question:', error);\n      if (error instanceof Error) {\n        setMessage(error.message);\n      } else {\n        setMessage('An unknown error occurred');\n      }\n    }\n  }, [page]);\n\n  // Fetch the first question when the app loads\n  useEffect(() => {\n    getQuestion();\n  }, [getQuestion]);\n\n  return (\n    <div className=\"container\">\n      {page === 0 && <SplashPage message={message} />}\n      {page > 0 && <QuestionPrompt question={question} />}\n      {page > 0 && question.prompt && <AnswerForm tokenRef={tokenRef} question={question} page={page} setPage={setPage} />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}
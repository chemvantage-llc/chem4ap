{"ast":null,"code":"var _jsxFileName = \"/Users/wight/JS Programs/chem4ap_react/src/components/AnswerForm.tsx\";\nimport React, { useState } from 'react';\nconst AnswerForm = ({\n  tokenRef,\n  question,\n  page,\n  setPage\n}) => {\n  const [studentAnswer, setStudentAnswer] = useState('');\n  const [responseHtml, setResponseHtml] = useState(null);\n  const handleSubmit = event => {\n    event.preventDefault();\n    setPage(2); // Show the response\n    submitAnswer();\n  };\n  const handleContinue = event => {\n    event.preventDefault();\n    setStudentAnswer(''); // Clear the answer\n    setResponseHtml(''); // Clear the response\n    setPage(1); // Go to the next question\n  };\n  const submitAnswer = async () => {\n    try {\n      const response = await fetch('/answer', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + tokenRef.current\n        },\n        body: JSON.stringify({\n          id: question.id,\n          answer: studentAnswer\n        })\n      });\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setResponseHtml(data.html);\n    } catch (error) {\n      console.error('Error submitting answer:', error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, \"Your Answer:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: studentAnswer,\n    onChange: e => setStudentAnswer(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, responseHtml && /*#__PURE__*/React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: responseHtml\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 26\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, page === 2 && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleContinue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 24\n    }\n  }, \"Continue\")));\n};\nexport default AnswerForm;","map":{"version":3,"names":["React","useState","AnswerForm","tokenRef","question","page","setPage","studentAnswer","setStudentAnswer","responseHtml","setResponseHtml","handleSubmit","event","preventDefault","submitAnswer","handleContinue","response","fetch","method","headers","current","body","JSON","stringify","id","answer","data","json","token","html","error","console","createElement","Fragment","onSubmit","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","dangerouslySetInnerHTML","__html","onClick"],"sources":["/Users/wight/JS Programs/chem4ap_react/src/components/AnswerForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\ninterface Question {\n    id: number;\n    prompt: string;\n    correctAnswer: string;\n    studentAnswer: string;\n}\n\ninterface AnswerFormProps {\n    tokenRef: React.MutableRefObject<string | null>;\n    question: Question;\n    page: number;\n    setPage: (page: number) => void;\n}\n\nconst AnswerForm: React.FC<AnswerFormProps> = ({ tokenRef, question, page, setPage }) => {\n  const [studentAnswer, setStudentAnswer] = useState('');\n  const [responseHtml, setResponseHtml] = useState<string | null>(null);\n\n  const handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    setPage(2); // Show the response\n    submitAnswer();\n  };\n\n  const handleContinue = (event: React.MouseEvent) => {\n    event.preventDefault();\n    setStudentAnswer(''); // Clear the answer\n    setResponseHtml(''); // Clear the response\n    setPage(1); // Go to the next question\n  }\n\n  const submitAnswer = async () => {\n    try {\n      const response = await fetch('/answer', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + tokenRef.current,\n        },\n        body: JSON.stringify({ id: question.id, answer: studentAnswer }),\n      });\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setResponseHtml(data.html);\n    } catch (error) {\n      console.error('Error submitting answer:', error);\n    }\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Your Answer:\n          <input\n            type=\"text\"\n            value={studentAnswer}\n            onChange={(e) => setStudentAnswer(e.target.value)}\n          />\n        </label>\n        <button type=\"submit\">Submit</button>\n      </form>\n      <div>\n        {responseHtml && <div dangerouslySetInnerHTML={{ __html: responseHtml }} />}\n      </div>\n      <div>\n        {page === 2 && <button onClick={handleContinue}>Continue</button>}\n      </div>\n    </>\n  );\n};\n\nexport default AnswerForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/wight/JS Programs/chem4ap_react/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport SplashPage from './components/SplashPage';\nimport QuestionPrompt from './components/QuestionPrompt';\nimport AnswerForm from './components/AnswerForm';\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [page, setPage] = useState(0);\n  const [question, setQuestion] = useState({\n    id: 0,\n    parameter: 0,\n    prompt: 'Loading...',\n    correctAnswer: '',\n    studentAnswer: ''\n  });\n  const tokenRef = useRef(new URLSearchParams(window.location.search).get('t'));\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (message === \"\") setPage(1);\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [message]);\n  /*\n    const getQuestion = async () => {\n      try {\n        if (!tokenRef.current) {\n          throw new Error('No token found');\n        }\n        const response = await fetch('http://localhost:8080/question?token=' + tokenRef.current, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Failed to fetch question');\n        }\n        const data = await response.json();\n        tokenRef.current = data.token;\n        setQuestion(data.question);\n        console.log('Fetched:', question.prompt);\n      } catch (error) {\n        console.error('Error fetching question:', error);\n        setMessage('Error fetching question');\n        //setPage(0)\n      }\n    };\n   */\n  // Fetch the first question when the app loads\n  const getQuestion = useCallback(async () => {\n    try {\n      if (!tokenRef.current) {\n        throw new Error('No token found');\n      }\n      const response = await fetch('http://localhost:8080/question?token=' + tokenRef.current, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch question');\n      }\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setQuestion(data.question);\n      console.log('Fetched:', question.prompt);\n    } catch (error) {\n      console.error('Error fetching question:', error);\n      setMessage('Error fetching question');\n      //setPage(0)\n    }\n  }, [question.prompt]);\n  useEffect(() => {\n    getQuestion();\n  }, [getQuestion]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [page === 0 && /*#__PURE__*/_jsxDEV(SplashPage, {\n      message: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 22\n    }, this), page === 1 && /*#__PURE__*/_jsxDEV(QuestionPrompt, {\n      question: question\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 22\n    }, this), page === 1 && /*#__PURE__*/_jsxDEV(AnswerForm, {\n      question: question,\n      setPage: setPage,\n      tokenRef: tokenRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"J1fTsb+GlA7pV11aW5bDtxZPFyA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","SplashPage","QuestionPrompt","AnswerForm","useState","useEffect","useRef","useCallback","jsxDEV","_jsxDEV","App","_s","page","setPage","question","setQuestion","id","parameter","prompt","correctAnswer","studentAnswer","tokenRef","URLSearchParams","window","location","search","get","message","setMessage","timer","setTimeout","clearTimeout","getQuestion","current","Error","response","fetch","method","headers","ok","data","json","token","console","log","error","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/wight/JS Programs/chem4ap_react/src/App.tsx"],"sourcesContent":["import React from 'react';\nimport SplashPage from './components/SplashPage';\nimport QuestionPrompt from './components/QuestionPrompt';\nimport AnswerForm from './components/AnswerForm';\nimport { useState, useEffect, useRef, useCallback } from 'react';\n\ninterface Question {\n  id: number;\n  parameter: number\n  prompt: string;\n  correctAnswer: string;\n  studentAnswer: string;\n}\n\nconst App: React.FC = () => {\n  const [page, setPage] = useState(0);\n  const [question, setQuestion] = useState<Question>({\n    id: 0,\n    parameter: 0,\n    prompt: 'Loading...',\n    correctAnswer: '',\n    studentAnswer: ''\n  });\n  const tokenRef = useRef<string | null>(new URLSearchParams(window.location.search).get('t'));\n  const [message, setMessage] = useState<string>('');\n  \n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (message===\"\") setPage(1);\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [message]);\n/*\n  const getQuestion = async () => {\n    try {\n      if (!tokenRef.current) {\n        throw new Error('No token found');\n      }\n      const response = await fetch('http://localhost:8080/question?token=' + tokenRef.current, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch question');\n      }\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setQuestion(data.question);\n      console.log('Fetched:', question.prompt);\n    } catch (error) {\n      console.error('Error fetching question:', error);\n      setMessage('Error fetching question');\n      //setPage(0)\n    }\n  };\n */ \n  // Fetch the first question when the app loads\n  const getQuestion = useCallback(async () => {\n    try {\n      if (!tokenRef.current) {\n        throw new Error('No token found');\n      }\n      const response = await fetch('http://localhost:8080/question?token=' + tokenRef.current, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch question');\n      }\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setQuestion(data.question);\n      console.log('Fetched:', question.prompt);\n    } catch (error) {\n      console.error('Error fetching question:', error);\n      setMessage('Error fetching question');\n      //setPage(0)\n    }\n  }, [question.prompt]);\n\n  useEffect(() => {\n    getQuestion();\n  }, [getQuestion]);\n\n  return (\n    <div>\n      {page === 0 && <SplashPage message={message} />}\n      {page === 1 && <QuestionPrompt question={question} />}\n      {page === 1 && <AnswerForm question={question} setPage={setPage} tokenRef={tokenRef}/>}\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
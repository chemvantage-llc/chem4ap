{"ast":null,"code":"var _jsxFileName = \"/Users/wight/JS Programs/chem4ap_react/src/components/AnswerForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AnswerForm = ({\n  tokenRef,\n  question,\n  page,\n  setPage\n}) => {\n  _s();\n  const [studentAnswer, setStudentAnswer] = useState('');\n  const [responseHtml, setResponseHtml] = useState(null);\n  const handleSubmit = event => {\n    event.preventDefault();\n    setPage(2); // Show the response\n    submitAnswer();\n  };\n  const handleContinue = event => {\n    event.preventDefault();\n    setStudentAnswer(''); // Clear the answer\n    setResponseHtml(''); // Clear the response\n    setPage(1); // Go to the next question\n  };\n  const submitAnswer = async () => {\n    try {\n      const response = await fetch('/answer', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + tokenRef.current\n        },\n        body: JSON.stringify({\n          id: question.id,\n          answer: studentAnswer\n        })\n      });\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setResponseHtml(data.html);\n    } catch (error) {\n      console.error('Error submitting answer:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Your Answer:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: studentAnswer,\n          onChange: e => setStudentAnswer(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: responseHtml && /*#__PURE__*/_jsxDEV(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: responseHtml\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: page === 2 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleContinue,\n        children: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 24\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(AnswerForm, \"BjMLzwFxE4WnWlV4kO3pH5znWYQ=\");\n_c = AnswerForm;\nexport default AnswerForm;\nvar _c;\n$RefreshReg$(_c, \"AnswerForm\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","AnswerForm","tokenRef","question","page","setPage","_s","studentAnswer","setStudentAnswer","responseHtml","setResponseHtml","handleSubmit","event","preventDefault","submitAnswer","handleContinue","response","fetch","method","headers","current","body","JSON","stringify","id","answer","data","json","token","html","error","console","children","onSubmit","type","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","dangerouslySetInnerHTML","__html","onClick","_c","$RefreshReg$"],"sources":["/Users/wight/JS Programs/chem4ap_react/src/components/AnswerForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\ninterface Question {\n    id: number;\n    prompt: string;\n    correctAnswer: string;\n    studentAnswer: string;\n}\n\ninterface AnswerFormProps {\n    tokenRef: React.MutableRefObject<string | null>;\n    question: Question;\n    page: number;\n    setPage: (page: number) => void;\n}\n\nconst AnswerForm: React.FC<AnswerFormProps> = ({ tokenRef, question, page, setPage }) => {\n  const [studentAnswer, setStudentAnswer] = useState('');\n  const [responseHtml, setResponseHtml] = useState<string | null>(null);\n\n  const handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    setPage(2); // Show the response\n    submitAnswer();\n  };\n\n  const handleContinue = (event: React.MouseEvent) => {\n    event.preventDefault();\n    setStudentAnswer(''); // Clear the answer\n    setResponseHtml(''); // Clear the response\n    setPage(1); // Go to the next question\n  }\n\n  const submitAnswer = async () => {\n    try {\n      const response = await fetch('/answer', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + tokenRef.current,\n        },\n        body: JSON.stringify({ id: question.id, answer: studentAnswer }),\n      });\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setResponseHtml(data.html);\n    } catch (error) {\n      console.error('Error submitting answer:', error);\n    }\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Your Answer:\n          <input\n            type=\"text\"\n            value={studentAnswer}\n            onChange={(e) => setStudentAnswer(e.target.value)}\n          />\n        </label>\n        <button type=\"submit\">Submit</button>\n      </form>\n      <div>\n        {responseHtml && <div dangerouslySetInnerHTML={{ __html: responseHtml }} />}\n      </div>\n      <div>\n        {page === 2 && <button onClick={handleContinue}>Continue</button>}\n      </div>\n    </>\n  );\n};\n\nexport default AnswerForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
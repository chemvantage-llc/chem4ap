{"code":"(this[\"webpackJsonpmy-react-spa\"]=this[\"webpackJsonpmy-react-spa\"]||[]).push([[0],{9:function(e,t,n){\"use strict\";n.r(t);var r=n(1),s=n.n(r),c=n(3),o=n.n(c),a=n(0);var i=e=>{let{message:t}=e;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100vh\",flexDirection:\"column\"},children:[Object(a.jsx)(\"img\",{src:\"../chem4ap_atom.png\",alt:\"Logo\",style:{animation:\"rotate 30s linear infinite\"}}),Object(a.jsx)(\"h1\",{children:\"Chem4AP\"}),Object(a.jsx)(\"h2\",{children:t})]}),Object(a.jsx)(\"style\",{children:\"\\n                @keyframes rotate {\\n                    from {\\n                    transform: rotate(0deg);\\n                    }\\n                    to {\\n                    transform: rotate(360deg);\\n                    }\\n                }\\n                \"})]})};var j=e=>{let{question:t}=e;return Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(\"h1\",{children:\"Question\"}),Object(a.jsx)(\"h3\",{children:t.prompt})]})};var l=e=>{let{tokenRef:t,question:n,setPage:s}=e;const[c,o]=Object(r.useState)(\"\"),[i,j]=Object(r.useState)(null),l=async()=>{try{const e=await fetch(\"/answer\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:n.id,answer:c})}),r=await e.json();t.current=r.token,j(r.html)}catch(e){console.error(\"Error submitting answer:\",e)}};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(\"form\",{onSubmit:e=>{e.preventDefault(),l()},children:[Object(a.jsxs)(\"label\",{children:[\"Your Answer:\",Object(a.jsx)(\"input\",{type:\"text\",value:c,onChange:e=>o(e.target.value)})]}),Object(a.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})]}),Object(a.jsx)(\"div\",{children:i&&Object(a.jsx)(\"div\",{dangerouslySetInnerHTML:{__html:i}})})]})};var u=()=>{const[e,t]=Object(r.useState)(0),[n,s]=Object(r.useState)({id:0,parameter:0,prompt:\"Loading...\",correctAnswer:\"\",studentAnswer:\"\"}),c=Object(r.useRef)(new URLSearchParams(window.location.search).get(\"t\")),[o,u]=Object(r.useState)(\"\");Object(r.useEffect)((()=>{const e=setTimeout((()=>{\"\"===o&&t(1)}),3e3);return()=>clearTimeout(e)}),[o]);const h=Object(r.useCallback)((async()=>{try{if(!c.current)throw new Error(\"No token found\");const e=await fetch(\"/question?token=\"+c.current,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\"}});if(!e.ok)throw new Error(\"Failed to fetch question\");const t=await e.json();c.current=t.token,s(t.question),console.log(\"Fetched:\",n.prompt)}catch(e){console.error(\"Error fetching question:\",e),u(\"Error fetching question\")}}),[n.prompt]);return Object(r.useEffect)((()=>{h()}),[h]),Object(a.jsxs)(\"div\",{children:[0===e&&Object(a.jsx)(i,{message:o}),1===e&&Object(a.jsx)(j,{question:n}),1===e&&Object(a.jsx)(l,{question:n,setPage:t,tokenRef:c})]})};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(u,{})}),document.getElementById(\"root\"))}},[[9,1,2]]]);","name":"static/js/main.363c6f8d.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","jsx_runtime","components_SplashPage","_ref","message","Object","children","style","display","justifyContent","alignItems","height","flexDirection","src","alt","animation","components_QuestionPrompt","question","prompt","components_AnswerForm","tokenRef","setPage","studentAnswer","setStudentAnswer","responseHtml","setResponseHtml","submitAnswer","async","response","fetch","method","headers","body","JSON","stringify","id","answer","data","json","current","token","html","error","console","onSubmit","event","preventDefault","type","value","onChange","e","target","dangerouslySetInnerHTML","__html","src_App","page","setQuestion","parameter","correctAnswer","URLSearchParams","window","location","search","get","setMessage","timer","setTimeout","clearTimeout","getQuestion","Error","ok","log","a","render","StrictMode","document","getElementById"],"sources":["static/js/main.363c6f8d.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpmy-react-spa\"] = this[\"webpackJsonpmy-react-spa\"] || []).push([[0],{\n\n/***/ 9:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(3);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/SplashPage.tsx\nconst SplashPage=_ref=>{let{message}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh',flexDirection:'column'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"../chem4ap_atom.png\",alt:\"Logo\",style:{animation:'rotate 30s linear infinite'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Chem4AP\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:message})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"style\",{children:\"\\n                @keyframes rotate {\\n                    from {\\n                    transform: rotate(0deg);\\n                    }\\n                    to {\\n                    transform: rotate(360deg);\\n                    }\\n                }\\n                \"})]});};/* harmony default export */ var components_SplashPage = (SplashPage);\n// CONCATENATED MODULE: ./src/components/QuestionPrompt.tsx\nconst QuestionPrompt=_ref=>{let{question}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Question\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:question.prompt})]});};/* harmony default export */ var components_QuestionPrompt = (QuestionPrompt);\n// CONCATENATED MODULE: ./src/components/AnswerForm.tsx\nconst AnswerForm=_ref=>{let{tokenRef,question,setPage}=_ref;const[studentAnswer,setStudentAnswer]=Object(react[\"useState\"])('');const[responseHtml,setResponseHtml]=Object(react[\"useState\"])(null);const handleSubmit=event=>{event.preventDefault();submitAnswer();};const submitAnswer=async()=>{try{const response=await fetch('/answer',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:question.id,answer:studentAnswer})});const data=await response.json();tokenRef.current=data.token;setResponseHtml(data.html);}catch(error){console.error('Error submitting answer:',error);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Your Answer:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",value:studentAnswer,onChange:e=>setStudentAnswer(e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:responseHtml&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{dangerouslySetInnerHTML:{__html:responseHtml}})})]});};/* harmony default export */ var components_AnswerForm = (AnswerForm);\n// CONCATENATED MODULE: ./src/App.tsx\nconst App=()=>{const[page,setPage]=Object(react[\"useState\"])(0);const[question,setQuestion]=Object(react[\"useState\"])({id:0,parameter:0,prompt:'Loading...',correctAnswer:'',studentAnswer:''});const tokenRef=Object(react[\"useRef\"])(new URLSearchParams(window.location.search).get('t'));const[message,setMessage]=Object(react[\"useState\"])('');Object(react[\"useEffect\"])(()=>{const timer=setTimeout(()=>{if(message===\"\")setPage(1);},3000);return()=>clearTimeout(timer);},[message]);// Fetch the first question when the app loads\nconst getQuestion=Object(react[\"useCallback\"])(async()=>{try{if(!tokenRef.current){throw new Error('No token found');}const response=await fetch('/question?token='+tokenRef.current,{method:'GET',headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}});if(!response.ok){throw new Error('Failed to fetch question');}const data=await response.json();tokenRef.current=data.token;setQuestion(data.question);console.log('Fetched:',question.prompt);}catch(error){console.error('Error fetching question:',error);setMessage('Error fetching question');//setPage(0)\n}},[question.prompt]);Object(react[\"useEffect\"])(()=>{getQuestion();},[getQuestion]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[page===0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SplashPage,{message:message}),page===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_QuestionPrompt,{question:question}),page===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AnswerForm,{question:question,setPage:setPage,tokenRef:tokenRef})]});};/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[9,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/wight/JS Programs/chem4ap_react/src/components/SplashPage.tsx","/Users/wight/JS Programs/chem4ap_react/src/components/QuestionPrompt.tsx","/Users/wight/JS Programs/chem4ap_react/src/components/AnswerForm.tsx","/Users/wight/JS Programs/chem4ap_react/src/App.tsx","/Users/wight/JS Programs/chem4ap_react/src/index.tsx"],"names":["SplashPage","_ref","message","_jsxs","_Fragment","children","style","display","justifyContent","alignItems","height","flexDirection","_jsx","src","alt","animation","QuestionPrompt","question","prompt","AnswerForm","tokenRef","setPage","studentAnswer","setStudentAnswer","useState","responseHtml","setResponseHtml","handleSubmit","event","preventDefault","submitAnswer","response","fetch","method","headers","body","JSON","stringify","id","answer","data","json","current","token","html","error","console","onSubmit","type","value","onChange","e","target","dangerouslySetInnerHTML","__html","App","page","setQuestion","parameter","correctAnswer","useRef","URLSearchParams","window","location","search","get","setMessage","useEffect","timer","setTimeout","clearTimeout","getQuestion","useCallback","Error","ok","log","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAMA,KAAM,CAAAA,UAAqC,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CACtD,mBACIE,2BAAA,CAAAC,uBAAA,EAAAC,QAAA,eACIF,2BAAA,QAAKG,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAEC,MAAM,CAAE,OAAO,CAAEC,aAAa,CAAE,QAAQ,CAAE,CAAAN,QAAA,eACrHO,0BAAA,QAAKC,GAAG,CAAC,qBAAqB,CAACC,GAAG,CAAC,MAAM,CAACR,KAAK,CAAE,CAAES,SAAS,CAAE,4BAA6B,CAAE,CAAE,CAAC,cAChGH,0BAAA,OAAAP,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBO,0BAAA,OAAAP,QAAA,CAAKH,OAAO,CAAK,CAAC,EACjB,CAAC,cACNU,0BAAA,UAAAP,QAAA,gRAWO,CAAC,EACV,CAAC,CAEX,CAAC,CAEcL,oEAAU,E;;ACxBzB,KAAM,CAAAgB,cAA6C,CAAGf,IAAA,EAAkB,IAAjB,CAAEgB,QAAS,CAAC,CAAAhB,IAAA,CAC/D,mBACIE,2BAAA,QAAAE,QAAA,eACIO,0BAAA,OAAAP,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBO,0BAAA,OAAAP,QAAA,CAAKY,QAAQ,CAACC,MAAM,CAAK,CAAC,EACzB,CAAC,CAEd,CAAC,CAEcF,4EAAc,E;;ACA7B,KAAM,CAAAG,UAAqC,CAAGlB,IAAA,EAAqC,IAApC,CAAEmB,QAAQ,CAAEH,QAAQ,CAAEI,OAAQ,CAAC,CAAApB,IAAA,CAC5E,KAAM,CAACqB,aAAa,CAAEC,gBAAgB,CAAC,CAAGC,yBAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGF,yBAAQ,CAAgB,IAAI,CAAC,CAErE,KAAM,CAAAG,YAAY,CAAIC,KAAsB,EAAK,CAC/CA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBC,YAAY,CAAC,CAAC,CAChB,CAAC,CAED,KAAM,CAAAA,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,SAAS,CAAE,CACtCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,EAAE,CAAErB,QAAQ,CAACqB,EAAE,CAAEC,MAAM,CAAEjB,aAAc,CAAC,CACjE,CAAC,CAAC,CACF,KAAM,CAAAkB,IAAI,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAClCrB,QAAQ,CAACsB,OAAO,CAAGF,IAAI,CAACG,KAAK,CAC7BjB,eAAe,CAACc,IAAI,CAACI,IAAI,CAAC,CAC5B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CACF,CAAC,CAED,mBACE1C,2BAAA,CAAAC,uBAAA,EAAAC,QAAA,eACEF,2BAAA,SAAM4C,QAAQ,CAAEpB,YAAa,CAAAtB,QAAA,eAC3BF,2BAAA,UAAAE,QAAA,EAAO,cAEL,cAAAO,0BAAA,UACEoC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE3B,aAAc,CACrB4B,QAAQ,CAAGC,CAAC,EAAK5B,gBAAgB,CAAC4B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACnD,CAAC,EACG,CAAC,cACRrC,0BAAA,WAAQoC,IAAI,CAAC,QAAQ,CAAA3C,QAAA,CAAC,QAAM,CAAQ,CAAC,EACjC,CAAC,cACPO,0BAAA,QAAAP,QAAA,CACGoB,YAAY,eAAIb,0BAAA,QAAKyC,uBAAuB,CAAE,CAAEC,MAAM,CAAE7B,YAAa,CAAE,CAAE,CAAC,CACxE,CAAC,EACN,CAAC,CAEP,CAAC,CAEcN,oEAAU,E;;AC/CzB,KAAM,CAAAoC,GAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,IAAI,CAAEnC,OAAO,CAAC,CAAGG,yBAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAACP,QAAQ,CAAEwC,WAAW,CAAC,CAAGjC,yBAAQ,CAAW,CACjDc,EAAE,CAAE,CAAC,CACLoB,SAAS,CAAE,CAAC,CACZxC,MAAM,CAAE,YAAY,CACpByC,aAAa,CAAE,EAAE,CACjBrC,aAAa,CAAE,EACjB,CAAC,CAAC,CACF,KAAM,CAAAF,QAAQ,CAAGwC,uBAAM,CAAgB,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAACC,GAAG,CAAC,GAAG,CAAC,CAAC,CAC5F,KAAM,CAAC/D,OAAO,CAAEgE,UAAU,CAAC,CAAG1C,yBAAQ,CAAS,EAAE,CAAC,CAElD2C,0BAAS,CAAC,IAAM,CACd,KAAM,CAAAC,KAAK,CAAGC,UAAU,CAAC,IAAM,CAC7B,GAAInE,OAAO,GAAG,EAAE,CAAEmB,OAAO,CAAC,CAAC,CAAC,CAC9B,CAAC,CAAE,IAAI,CAAC,CACR,MAAO,IAAMiD,YAAY,CAACF,KAAK,CAAC,CAClC,CAAC,CAAE,CAAClE,OAAO,CAAC,CAAC,CAEb;AACA,KAAM,CAAAqE,WAAW,CAAGC,4BAAW,CAAC,SAAY,CAC1C,GAAI,CACF,GAAI,CAACpD,QAAQ,CAACsB,OAAO,CAAE,CACrB,KAAM,IAAI,CAAA+B,KAAK,CAAC,gBAAgB,CAAC,CACnC,CACA,KAAM,CAAA1C,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,kBAAkB,CAAGZ,QAAQ,CAACsB,OAAO,CAAE,CAClET,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,6BAA6B,CAAE,GACjC,CACF,CAAC,CAAC,CACF,GAAI,CAACH,QAAQ,CAAC2C,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAD,KAAK,CAAC,0BAA0B,CAAC,CAC7C,CACA,KAAM,CAAAjC,IAAI,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAClCrB,QAAQ,CAACsB,OAAO,CAAGF,IAAI,CAACG,KAAK,CAC7Bc,WAAW,CAACjB,IAAI,CAACvB,QAAQ,CAAC,CAC1B6B,OAAO,CAAC6B,GAAG,CAAC,UAAU,CAAE1D,QAAQ,CAACC,MAAM,CAAC,CAC1C,CAAE,MAAO2B,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDqB,UAAU,CAAC,yBAAyB,CAAC,CACrC;AACF,CACF,CAAC,CAAE,CAACjD,QAAQ,CAACC,MAAM,CAAC,CAAC,CAErBiD,0BAAS,CAAC,IAAM,CACdI,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAEjB,mBACEpE,2BAAA,QAAAE,QAAA,EACGmD,IAAI,GAAK,CAAC,eAAI5C,0BAAA,CAACZ,qBAAU,EAACE,OAAO,CAAEA,OAAQ,CAAE,CAAC,CAC9CsD,IAAI,GAAK,CAAC,eAAI5C,0BAAA,CAACI,yBAAc,EAACC,QAAQ,CAAEA,QAAS,CAAE,CAAC,CACpDuC,IAAI,GAAK,CAAC,eAAI5C,0BAAA,CAACO,qBAAU,EAACF,QAAQ,CAAEA,QAAS,CAACI,OAAO,CAAEA,OAAQ,CAACD,QAAQ,CAAEA,QAAS,CAAC,CAAC,EACnF,CAAC,CAEV,CAAC,CAEcmC,+CAAG,E;;ACrElBqB,mBAAQ,CAACC,MAAM,cACbjE,0BAAA,CAACkE,eAAK,CAACC,UAAU,EAAA1E,QAAA,cACfO,0BAAA,CAAC2C,OAAG,GAAE,CAAC,CACS,CAAC,CACnByB,QAAQ,CAACC,cAAc,CAAC,MAAM,CAChC,CAAC,C","file":"x","sourcesContent":["import React from 'react';\n\ninterface SplashPageProps {\n    message: string;\n}\n\nconst SplashPage: React.FC<SplashPageProps> = ({ message }) => {\n    return (\n        <>\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh', flexDirection: 'column'}}>\n                <img src=\"../chem4ap_atom.png\" alt=\"Logo\" style={{ animation: 'rotate 30s linear infinite' }} />\n                <h1>Chem4AP</h1>\n                <h2>{message}</h2>\n            </div>\n            <style>\n                {`\n                @keyframes rotate {\n                    from {\n                    transform: rotate(0deg);\n                    }\n                    to {\n                    transform: rotate(360deg);\n                    }\n                }\n                `}\n            </style>\n        </>\n    );\n};\n\nexport default SplashPage;","import React from 'react';\nimport { Question } from '../types';\n\ninterface QuestionPromptProps {\n    question: Question;\n}\nconst QuestionPrompt: React.FC<QuestionPromptProps> = ({ question }) => {\n    return (\n        <div>\n            <h1>Question</h1>\n            <h3>{question.prompt}</h3>\n        </div>\n    )\n};\n\nexport default QuestionPrompt;","import React, { useState } from 'react';\n\ninterface Question {\n    id: number;\n    prompt: string;\n    correctAnswer: string;\n    studentAnswer: string;\n}\n\ninterface AnswerFormProps {\n    tokenRef: React.MutableRefObject<string | null>;\n    question: Question;\n    setPage: (page: number) => void;\n}\n\nconst AnswerForm: React.FC<AnswerFormProps> = ({ tokenRef, question, setPage }) => {\n  const [studentAnswer, setStudentAnswer] = useState('');\n  const [responseHtml, setResponseHtml] = useState<string | null>(null);\n\n  const handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    submitAnswer();\n  };\n\n  const submitAnswer = async () => {\n    try {\n      const response = await fetch('/answer', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ id: question.id, answer: studentAnswer }),\n      });\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setResponseHtml(data.html);\n    } catch (error) {\n      console.error('Error submitting answer:', error);\n    }\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Your Answer:\n          <input\n            type=\"text\"\n            value={studentAnswer}\n            onChange={(e) => setStudentAnswer(e.target.value)}\n          />\n        </label>\n        <button type=\"submit\">Submit</button>\n      </form>\n      <div>\n        {responseHtml && <div dangerouslySetInnerHTML={{ __html: responseHtml }} />}\n      </div>\n    </>\n  );\n};\n\nexport default AnswerForm;","import React from 'react';\nimport SplashPage from './components/SplashPage';\nimport QuestionPrompt from './components/QuestionPrompt';\nimport AnswerForm from './components/AnswerForm';\nimport { useState, useEffect, useRef, useCallback } from 'react';\n\ninterface Question {\n  id: number;\n  parameter: number\n  prompt: string;\n  correctAnswer: string;\n  studentAnswer: string;\n}\n\nconst App: React.FC = () => {\n  const [page, setPage] = useState(0);\n  const [question, setQuestion] = useState<Question>({\n    id: 0,\n    parameter: 0,\n    prompt: 'Loading...',\n    correctAnswer: '',\n    studentAnswer: ''\n  });\n  const tokenRef = useRef<string | null>(new URLSearchParams(window.location.search).get('t'));\n  const [message, setMessage] = useState<string>('');\n  \n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (message===\"\") setPage(1);\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [message]);\n\n  // Fetch the first question when the app loads\n  const getQuestion = useCallback(async () => {\n    try {\n      if (!tokenRef.current) {\n        throw new Error('No token found');\n      }\n      const response = await fetch('/question?token=' + tokenRef.current, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch question');\n      }\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setQuestion(data.question);\n      console.log('Fetched:', question.prompt);\n    } catch (error) {\n      console.error('Error fetching question:', error);\n      setMessage('Error fetching question');\n      //setPage(0)\n    }\n  }, [question.prompt]);\n\n  useEffect(() => {\n    getQuestion();\n  }, [getQuestion]);\n\n  return (\n    <div>\n      {page === 0 && <SplashPage message={message} />}\n      {page === 1 && <QuestionPrompt question={question} />}\n      {page === 1 && <AnswerForm question={question} setPage={setPage} tokenRef={tokenRef}/>}\n    </div>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"]}}
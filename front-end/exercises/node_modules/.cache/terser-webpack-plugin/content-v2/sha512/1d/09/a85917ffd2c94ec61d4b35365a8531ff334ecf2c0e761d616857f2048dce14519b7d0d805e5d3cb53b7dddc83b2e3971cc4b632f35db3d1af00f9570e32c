{"code":"(this[\"webpackJsonpmy-react-spa\"]=this[\"webpackJsonpmy-react-spa\"]||[]).push([[0],{9:function(e,t,n){\"use strict\";n.r(t);var r=n(1),s=n.n(r),c=n(3),o=n.n(c),i=n(0);var a=e=>{let{message:t}=e;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100vh\",flexDirection:\"column\"},children:[Object(i.jsx)(\"img\",{src:\"../chem4ap_atom.png\",alt:\"Logo\",style:{animation:\"rotate 30s linear infinite\"}}),Object(i.jsx)(\"h1\",{children:\"Chem4AP\"}),Object(i.jsx)(\"h2\",{children:t})]}),Object(i.jsx)(\"style\",{children:\"\\n                @keyframes rotate {\\n                    from {\\n                    transform: rotate(0deg);\\n                    }\\n                    to {\\n                    transform: rotate(360deg);\\n                    }\\n                }\\n                \"})]})};var j=e=>{let{question:t}=e;return Object(i.jsxs)(\"div\",{children:[Object(i.jsx)(\"h1\",{children:\"Question\"}),Object(i.jsx)(\"h3\",{children:t.prompt})]})};var u=e=>{let{tokenRef:t,question:n,page:s,setPage:c}=e;const[o,a]=Object(r.useState)(\"\"),[j,u]=Object(r.useState)(null),l=async()=>{try{const e=await fetch(\"/answer\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+t.current},body:JSON.stringify({id:n.id,answer:o})}),r=await e.json();t.current=r.token,u(r.html)}catch(e){console.error(\"Error submitting answer:\",e)}};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(\"form\",{onSubmit:e=>{e.preventDefault(),c(2),l()},children:[Object(i.jsxs)(\"label\",{children:[\"Your Answer:\",Object(i.jsx)(\"input\",{type:\"text\",value:o,onChange:e=>a(e.target.value)})]}),Object(i.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})]}),Object(i.jsx)(\"div\",{children:j&&Object(i.jsx)(\"div\",{dangerouslySetInnerHTML:{__html:j}})}),Object(i.jsx)(\"div\",{children:2===s&&Object(i.jsx)(\"button\",{onClick:e=>{e.preventDefault(),a(\"\"),u(\"\"),c(1)},children:\"Continue\"})})]})};var l=()=>{const[e,t]=Object(r.useState)(0),[n,s]=Object(r.useState)({id:0,parameter:0,prompt:\"Loading...\",correctAnswer:\"\",studentAnswer:\"\"}),c=Object(r.useRef)(new URLSearchParams(window.location.search).get(\"t\")),[o,l]=Object(r.useState)(\"\");Object(r.useEffect)((()=>{const e=setTimeout((()=>{\"\"===o&&t(1)}),3e3);return()=>clearTimeout(e)}),[o]);const h=Object(r.useCallback)((async()=>{if(1===e)try{if(!c.current)throw new Error(\"No token found\");const e=await fetch(\"/question?token=\"+c.current,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+c.current}});if(!e.ok)throw new Error(\"Failed to fetch question\");const t=await e.json();c.current=t.token,s(t.question),console.log(\"Fetched a question\")}catch(n){console.error(\"Error fetching question:\",n),l(\"Error fetching question\"),t(0)}}),[e]);return Object(r.useEffect)((()=>{h()}),[h]),Object(i.jsxs)(\"div\",{children:[0===e&&Object(i.jsx)(a,{message:o}),e>0&&Object(i.jsx)(j,{question:n}),e>0&&Object(i.jsx)(u,{tokenRef:c,question:n,page:e,setPage:t})]})};o.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(l,{})}),document.getElementById(\"root\"))}},[[9,1,2]]]);","name":"static/js/main.0b3b9f36.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","jsx_runtime","components_SplashPage","_ref","message","Object","children","style","display","justifyContent","alignItems","height","flexDirection","src","alt","animation","components_QuestionPrompt","question","prompt","components_AnswerForm","tokenRef","page","setPage","studentAnswer","setStudentAnswer","responseHtml","setResponseHtml","submitAnswer","async","response","fetch","method","headers","Authorization","current","body","JSON","stringify","id","answer","data","json","token","html","error","console","onSubmit","event","preventDefault","type","value","onChange","e","target","dangerouslySetInnerHTML","__html","onClick","src_App","setQuestion","parameter","correctAnswer","URLSearchParams","window","location","search","get","setMessage","timer","setTimeout","clearTimeout","getQuestion","Error","ok","log","a","render","StrictMode","document","getElementById"],"sources":["static/js/main.0b3b9f36.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpmy-react-spa\"] = this[\"webpackJsonpmy-react-spa\"] || []).push([[0],{\n\n/***/ 9:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(3);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/SplashPage.tsx\nconst SplashPage=_ref=>{let{message}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh',flexDirection:'column'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"../chem4ap_atom.png\",alt:\"Logo\",style:{animation:'rotate 30s linear infinite'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Chem4AP\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:message})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"style\",{children:\"\\n                @keyframes rotate {\\n                    from {\\n                    transform: rotate(0deg);\\n                    }\\n                    to {\\n                    transform: rotate(360deg);\\n                    }\\n                }\\n                \"})]});};/* harmony default export */ var components_SplashPage = (SplashPage);\n// CONCATENATED MODULE: ./src/components/QuestionPrompt.tsx\nconst QuestionPrompt=_ref=>{let{question}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Question\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:question.prompt})]});};/* harmony default export */ var components_QuestionPrompt = (QuestionPrompt);\n// CONCATENATED MODULE: ./src/components/AnswerForm.tsx\nconst AnswerForm=_ref=>{let{tokenRef,question,page,setPage}=_ref;const[studentAnswer,setStudentAnswer]=Object(react[\"useState\"])('');const[responseHtml,setResponseHtml]=Object(react[\"useState\"])(null);const handleSubmit=event=>{event.preventDefault();setPage(2);// Show the response\nsubmitAnswer();};const handleContinue=event=>{event.preventDefault();setStudentAnswer('');// Clear the answer\nsetResponseHtml('');// Clear the response\nsetPage(1);// Go to the next question\n};const submitAnswer=async()=>{try{const response=await fetch('/answer',{method:'POST',headers:{'Content-Type':'application/json','Authorization':'Bearer '+tokenRef.current},body:JSON.stringify({id:question.id,answer:studentAnswer})});const data=await response.json();tokenRef.current=data.token;setResponseHtml(data.html);}catch(error){console.error('Error submitting answer:',error);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Your Answer:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",value:studentAnswer,onChange:e=>setStudentAnswer(e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:responseHtml&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{dangerouslySetInnerHTML:{__html:responseHtml}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:page===2&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleContinue,children:\"Continue\"})})]});};/* harmony default export */ var components_AnswerForm = (AnswerForm);\n// CONCATENATED MODULE: ./src/App.tsx\nconst App=()=>{const[page,setPage]=Object(react[\"useState\"])(0);const[question,setQuestion]=Object(react[\"useState\"])({id:0,parameter:0,prompt:'Loading...',correctAnswer:'',studentAnswer:''});const tokenRef=Object(react[\"useRef\"])(new URLSearchParams(window.location.search).get('t'));const[message,setMessage]=Object(react[\"useState\"])('');Object(react[\"useEffect\"])(()=>{const timer=setTimeout(()=>{if(message===\"\")setPage(1);},3000);return()=>clearTimeout(timer);},[message]);// Fetch the first question when the app loads\nconst getQuestion=Object(react[\"useCallback\"])(async()=>{if(page!==1)return;try{if(!tokenRef.current){throw new Error('No token found');}const response=await fetch('/question?token='+tokenRef.current,{method:'GET',headers:{'Content-Type':'application/json','Authorization':'Bearer '+tokenRef.current}});if(!response.ok){throw new Error('Failed to fetch question');}const data=await response.json();tokenRef.current=data.token;setQuestion(data.question);console.log('Fetched a question');}catch(error){console.error('Error fetching question:',error);setMessage('Error fetching question');setPage(0);}},[page]);Object(react[\"useEffect\"])(()=>{getQuestion();},[getQuestion]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[page===0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SplashPage,{message:message}),page>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_QuestionPrompt,{question:question}),page>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AnswerForm,{tokenRef:tokenRef,question:question,page:page,setPage:setPage})]});};/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[9,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/wight/JS Programs/chem4ap_react/src/components/SplashPage.tsx","/Users/wight/JS Programs/chem4ap_react/src/components/QuestionPrompt.tsx","/Users/wight/JS Programs/chem4ap_react/src/components/AnswerForm.tsx","/Users/wight/JS Programs/chem4ap_react/src/App.tsx","/Users/wight/JS Programs/chem4ap_react/src/index.tsx"],"names":["SplashPage","_ref","message","_jsxs","_Fragment","children","style","display","justifyContent","alignItems","height","flexDirection","_jsx","src","alt","animation","QuestionPrompt","question","prompt","AnswerForm","tokenRef","page","setPage","studentAnswer","setStudentAnswer","useState","responseHtml","setResponseHtml","handleSubmit","event","preventDefault","submitAnswer","handleContinue","response","fetch","method","headers","current","body","JSON","stringify","id","answer","data","json","token","html","error","console","onSubmit","type","value","onChange","e","target","dangerouslySetInnerHTML","__html","onClick","App","setQuestion","parameter","correctAnswer","useRef","URLSearchParams","window","location","search","get","setMessage","useEffect","timer","setTimeout","clearTimeout","getQuestion","useCallback","Error","ok","log","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\n\ninterface SplashPageProps {\n    message: string;\n}\n\nconst SplashPage: React.FC<SplashPageProps> = ({ message }) => {\n    return (\n        <>\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh', flexDirection: 'column'}}>\n                <img src=\"../chem4ap_atom.png\" alt=\"Logo\" style={{ animation: 'rotate 30s linear infinite' }} />\n                <h1>Chem4AP</h1>\n                <h2>{message}</h2>\n            </div>\n            <style>\n                {`\n                @keyframes rotate {\n                    from {\n                    transform: rotate(0deg);\n                    }\n                    to {\n                    transform: rotate(360deg);\n                    }\n                }\n                `}\n            </style>\n        </>\n    );\n};\n\nexport default SplashPage;","import React from 'react';\nimport { Question } from '../types';\n\ninterface QuestionPromptProps {\n    question: Question;\n}\nconst QuestionPrompt: React.FC<QuestionPromptProps> = ({ question }) => {\n    return (\n        <div>\n            <h1>Question</h1>\n            <h3>{question.prompt}</h3>\n        </div>\n    )\n};\n\nexport default QuestionPrompt;","import React, { useState } from 'react';\n\ninterface Question {\n    id: number;\n    prompt: string;\n    correctAnswer: string;\n    studentAnswer: string;\n}\n\ninterface AnswerFormProps {\n    tokenRef: React.MutableRefObject<string | null>;\n    question: Question;\n    page: number;\n    setPage: (page: number) => void;\n}\n\nconst AnswerForm: React.FC<AnswerFormProps> = ({ tokenRef, question, page, setPage }) => {\n  const [studentAnswer, setStudentAnswer] = useState('');\n  const [responseHtml, setResponseHtml] = useState<string | null>(null);\n\n  const handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    setPage(2); // Show the response\n    submitAnswer();\n  };\n\n  const handleContinue = (event: React.MouseEvent) => {\n    event.preventDefault();\n    setStudentAnswer(''); // Clear the answer\n    setResponseHtml(''); // Clear the response\n    setPage(1); // Go to the next question\n  }\n\n  const submitAnswer = async () => {\n    try {\n      const response = await fetch('/answer', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + tokenRef.current,\n        },\n        body: JSON.stringify({ id: question.id, answer: studentAnswer }),\n      });\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setResponseHtml(data.html);\n    } catch (error) {\n      console.error('Error submitting answer:', error);\n    }\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Your Answer:\n          <input\n            type=\"text\"\n            value={studentAnswer}\n            onChange={(e) => setStudentAnswer(e.target.value)}\n          />\n        </label>\n        <button type=\"submit\">Submit</button>\n      </form>\n      <div>\n        {responseHtml && <div dangerouslySetInnerHTML={{ __html: responseHtml }} />}\n      </div>\n      <div>\n        {page === 2 && <button onClick={handleContinue}>Continue</button>}\n      </div>\n    </>\n  );\n};\n\nexport default AnswerForm;","import React from 'react';\nimport SplashPage from './components/SplashPage';\nimport QuestionPrompt from './components/QuestionPrompt';\nimport AnswerForm from './components/AnswerForm';\nimport { useState, useEffect, useRef, useCallback } from 'react';\n\ninterface Question {\n  id: number;\n  parameter: number\n  prompt: string;\n  correctAnswer: string;\n  studentAnswer: string;\n}\n\nconst App: React.FC = () => {\n  const [page, setPage] = useState(0);\n  const [question, setQuestion] = useState<Question>({\n    id: 0,\n    parameter: 0,\n    prompt: 'Loading...',\n    correctAnswer: '',\n    studentAnswer: ''\n  });\n  const tokenRef = useRef<string | null>(new URLSearchParams(window.location.search).get('t'));\n  const [message, setMessage] = useState<string>('');\n  \n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (message===\"\") setPage(1);\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [message]);\n\n  // Fetch the first question when the app loads\n  const getQuestion = useCallback(async () => {\n    if (page !== 1) return;\n    try {\n      if (!tokenRef.current) {\n        throw new Error('No token found');\n      }\n      const response = await fetch('/question?token=' + tokenRef.current, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + tokenRef.current\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch question');\n      }\n      const data = await response.json();\n      tokenRef.current = data.token;\n      setQuestion(data.question);\n      console.log('Fetched a question');\n    } catch (error) {\n      console.error('Error fetching question:', error);\n      setMessage('Error fetching question');\n      setPage(0);\n    }\n  }, [page]);\n\n  useEffect(() => {\n    getQuestion();\n  }, [getQuestion]);\n\n  return (\n    <div>\n      {page === 0 && <SplashPage message={message} />}\n      {page > 0 && <QuestionPrompt question={question} />}\n      {page > 0 && <AnswerForm tokenRef={tokenRef} question={question} page={page} setPage={setPage} />}\n    </div>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"]}}